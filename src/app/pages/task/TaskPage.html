<div class="task-page">
  <h2>Gerenciar Tarefas</h2>

  <div class="filters">
    <select [(ngModel)]="filterUserId" (change)="applyFilters()">
      <option value="">Todos os usu√°rios</option>
      <option *ngFor="let user of users" [value]="user.id">{{ user.name }}</option>
    </select>

    <select [(ngModel)]="filterStatus" (change)="applyFilters()">
      <option value="">Todos os status</option>
      <option *ngFor="let status of ['PENDING', 'IN_PROGRESS', 'COMPLETED']">
        {{ status }}
      </option>
    </select>

    <button (click)="openCreateModal()">Criar nova</button>
  </div>

  <app-task-list
    [tasks]="filteredTasks"
    [users]="users"
    (edit)="openEditModal($event)"
    (delete)="deleteTask($event)"
  ></app-task-list>

  <app-task-form
    *ngIf="isModalOpen"
    [task]="selectedTask"
    [isEdit]="isEditMode"
    [users]="users"
    (close)="closeModal()"
    (saved)="onTaskSaved()"
  ></app-task-form>
</div>
