<div class="user-page">
  <app-back-button />
  <h2>Gerenciar usuários</h2>

  <div class="top-bar">
    <input
      type="text"
      [(ngModel)]="searchTerm"
      placeholder="Buscar usuário por nome ou email"
    />
    <button (click)="openCreateModal()">Criar novo</button>
  </div>

  <app-user-list
    [users]="filteredUsers"
    (edit)="openEditModal($event)"
    (delete)="deleteUser($event)"
  ></app-user-list>

  <app-user-form
    *ngIf="isModalOpen"
    [user]="selectedUser"
    [isEdit]="isEditMode"
    (close)="closeModal()"
    (saved)="onUserSaved()"
  ></app-user-form>

  <div class="modal-backdrop" *ngIf="isConfirmDeleteOpen">
    <div class="modal">
      <h3>Tem certeza que deseja excluir este usuário?</h3>
      <div class="actions">
        <button (click)="confirmDelete()">Sim</button>
        <button (click)="cancelDelete()">Cancelar</button>
      </div>
    </div>
  </div>

  <div class="feedback-message" *ngIf="feedbackMessage">
    {{ feedbackMessage }}
  </div>
</div>
